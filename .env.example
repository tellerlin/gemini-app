# Gemini App Environment Configuration
# Copy this file to .env and configure according to your deployment environment

# =============================================================================
# API Connection Mode Configuration
# =============================================================================

# Option 1: Auto-detect mode (recommended, default behavior)
# Automatically detects environment and chooses optimal connection mode:
# - Local development (localhost): Direct connection to Google API
# - Production deployment: Uses /api/gemini proxy path
# VITE_GEMINI_API_MODE=auto

# Option 2: Force direct connection to Google API (no proxy)
# Best for: Local development, Docker containers with direct internet access
# VITE_GEMINI_API_MODE=direct

# Option 3: Force proxy mode
# Best for: Cloudflare Workers, Vercel Edge Functions, environments requiring proxy
# VITE_GEMINI_API_MODE=proxy

# Option 4: Custom proxy URL (overrides all other settings)
# Use when you have a custom Gemini API proxy endpoint
# VITE_GEMINI_PROXY_URL=https://your-custom-proxy.com/api/gemini

# =============================================================================
# Deployment-Specific Examples
# =============================================================================

# Example 1: Local Development (npm run dev)
# Uses auto-detect mode - will automatically use direct connection
# VITE_GEMINI_API_MODE=auto

# Example 2: Docker Development/Production
# Force direct connection for better performance
# VITE_GEMINI_API_MODE=direct

# Example 3: Cloudflare Workers Deployment
# Force proxy mode to use Cloudflare Worker proxy
# VITE_GEMINI_API_MODE=proxy

# Example 4: Vercel Deployment with custom proxy
# VITE_GEMINI_PROXY_URL=https://your-domain.vercel.app/api/gemini

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Default model to use when starting the application
VITE_DEFAULT_MODEL=gemini-2.0-flash

# Request timeout in milliseconds (default: 30000)
VITE_REQUEST_TIMEOUT=30000

# Maximum retry attempts (default: 3)
VITE_MAX_RETRIES=3

# Environment mode (development/production)
NODE_ENV=production

# Enable debug logging (optional)
# VITE_DEBUG=true

# =============================================================================
# SECURITY BEST PRACTICES
# =============================================================================
# ✅ SECURE: Use application settings for sensitive data
# - API keys should ONLY be set through the app's Settings modal
# - This keeps sensitive data out of build artifacts and source control

# ❌ NEVER put API keys in environment variables:
# - They would be exposed in build artifacts
# - Risk of accidentally committing secrets
# - Use the in-app Settings → API Keys instead

# =============================================================================
# CONNECTION MODE BEHAVIOR
# =============================================================================
# 
# Auto-detect mode (default):
# ├── Local development (localhost, 127.0.0.1, 0.0.0.0)
# │   └── Direct connection to generativelanguage.googleapis.com
# └── Production deployment (any other hostname)
#     └── Proxy through /api/gemini endpoint
#
# Direct mode:
# └── Always connect directly to generativelanguage.googleapis.com
#
# Proxy mode:
# └── Always use /api/gemini proxy endpoint
#
# Custom proxy:
# └── Use specified VITE_GEMINI_PROXY_URL

# =============================================================================
# SETUP INSTRUCTIONS
# =============================================================================
# 1. Copy this file to .env (git will ignore it)
# 2. Choose your API connection mode above
# 3. Deploy your app to your hosting platform
# 4. Open the deployed app and configure API keys in Settings
# 5. API keys are stored securely in browser local storage

# =============================================================================
# TROUBLESHOOTING
# =============================================================================
# If you encounter connection issues:
# 1. Check if your network allows direct Google API access
# 2. For corporate networks, use proxy mode
# 3. For Cloudflare/Vercel deployments, proxy mode is recommended
# 4. Check browser console for connection method being used
# 5. Verify API keys are valid at https://makersuite.google.com/